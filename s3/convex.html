<html>
<head>
    <meta http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>Выпуклая оболочка</title>
    <link rel="stylesheet" type="text/css" href="../style/style.css">
    <script type="text/javascript" src="../syntax/sh_main.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_pascal.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_cpp.min.js"></script>
    <script type="text/javascript" src="../syntax/sh_basic.js"></script>
    <link type="text/css" rel="stylesheet" href="../style/sh_nedit.css">
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
</head>
<body onLoad="sh_highlightDocument();">
<div style="width:80%;">
    <div style="float:right;">
        <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
                codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version
=6,0,0,0" width="100" height="50">
            <param name="movie"
                   value="../audio/a_smsqulh3n.swf">
            <param name="bgcolor" value="fff">
            <param
                    name="FlashVars" value="src=9094e666f613f513f50301------------ffffff">
            <param
                    name="autoplay" value="false">
            <embed src="../audio/a_smsqulh3n.swf" bgcolor="fff"
                   width="100" height="70" type="application/x-shockwave-flash"
                   pluginspage="http://www.macromedia.com/go/getflashplayer"
                   FlashVars="src=9094e666f613f513f50301------------ffffff"></embed>
        </object>
    </div>
</div>

<div id="content" style="width:80%;">
<h1>Выпуклая оболочка</h1>

<pre class="sh_cpp">
#include &lt;vector&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;

struct point {
  int x, y;
  point () {}
  point (int a, int b): x(a), y(b) {}
  point operator - (point a) {
    return point(x - a.x, y - a.y);
  }
};

point p0, p1, p2;

int vp(point a, point b) {
  return a.x*b.y - a.y*b.x;
}

int dist(point p1, point p2) {
  return (p2-p1).x * (p2-p1).x + (p2-p1).y*(p2-p1).y;
}

bool l(point p1, point p2) {
	return vp(p1 - p0, p2 - p0) &gt; 0 || (vp(p1 - p0, p2- p0) == 0 && dist(p0, p2) &lt; dist(p0, p1));
}
point p[200];

using namespace std;

int main()
{
	freopen("convex.in", "r", stdin);
	freopen("convex.out", "w", stdout);
	int n, i, min_ind = 0;
	cin &gt;&gt; n;
	for (i=0; i&lt;n; i++)
		cin &gt;&gt; p[i].x &gt;&gt; p[i].y;
	for (i=0; i&lt;n; i++) {
		if(p[i].x &lt; p[min_ind].x)
			min_ind = i;
		else
			if(p[i].x == p[min_ind].x)
				if(p[i].y &lt; p[min_ind].y)
					min_ind = i;
	}
	p0 = p[min_ind];
	sort(p, p + n, l);
	vector &lt;point&gt; ob;
	for (i=0; i&lt;n; i++) {
		while (ob.size() &gt;= 2 && vp(ob[ob.size() - 1] - ob[ob.size() - 2], p[i] - ob[ob.size() - 1]) &lt;= 0)
			ob.pop_back();
		ob.push_back(p[i]);
	}
	cout &lt;&lt; ob.size() &lt;&lt; endl;
	for (int i = ob.size() - 1; i &gt;= 0; --i) {
		printf("%d %d\n", ob[i].x, ob[i].y);
	}
	return 0;
}
</pre>

</div>

</body>

</html>